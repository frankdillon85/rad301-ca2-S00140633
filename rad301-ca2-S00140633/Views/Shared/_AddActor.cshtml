@model rad301_ca2_S00140633.Models.Actor


@using (Html.BeginForm(null, null, FormMethod.Post, new { id = "CreateActorForm" }))
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>Add Actor</h4>
        <hr />
        <label id="lblError" style="color:red; display:none" class="input-sm">*All Fields must be filled in</label>
        <div class="form-group">
            <div class="col-md-10">
                @Html.EditorFor(model => model.FirstName, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "First Name" } })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-10">
                @Html.EditorFor(model => model.LastName, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Last Name" } })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-10">
                @Html.EditorFor(model => model.Character, new { htmlAttributes = new { @class = "form-control input-sm", placeholder = "Character Name" } })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-10">
                @Html.EnumDropDownListFor(model => model.Gender, htmlAttributes: new { @class = "form-control input-sm" })
            </div>
        </div>

       

        <div class="form-group">
            <div class="col-md-offset-3 col-md-10">
                <input type="submit" value="Add New Actor" class="btn btn-xs btn-success" />
            </div>
        </div>
    </div>
}

<div class="col-md-offset-3 col-md-10">
    <button class="btn btn-xs btn-info" onclick="showActors(@ViewBag.MovieId)">Back to list</button>
</div>

    <script>
        $('#CreateActorForm').submit(function () {
            debugger;
            if(($(this).find('input[name="FirstName"]').val() != "")&&($(this).find('input[name="LastName"]').val() != "")&&($(this).find('input[name="Character"]').val() != ""))
            {
                $.ajax({
                    url: '@Url.Action("CreateActor", new { id = @ViewBag.MovieId })',
                    type: "POST",
                    data: $(this).serialize() + "&MovieId=" + @ViewBag.MovieId,
                    success: function (data) {
                        $('#ActorsDiv').hide();
                        $('#ActorsDiv').html(data);
                        $('#ActorsDiv').fadeIn(1000);
                    }
                });
            }
            else
            {
                $('#lblError').show();
            }

            return false;
        });
        function BacktoActors()
        {
            $.ajax({
                url: '@Url.Action("CreateActor", new { id = @ViewBag.MovieId })',
                type: "POST",
                data: $(this).serialize() + "&MovieId=" + @ViewBag.MovieId,
                success: function (data) {
                    $('#ActorsDiv').hide();
                    $('#ActorsDiv').html(data);
                    $('#ActorsDiv').fadeIn(1000);
                }
            });
        }
    </script>
